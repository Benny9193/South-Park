<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook - South Park Community</title>
    
    <!-- Authentic Facebook Design System -->
    <link rel="stylesheet" href="Assets/css/facebook-authentic.css">
    <link rel="stylesheet" href="Assets/css/enhanced-visual-effects.css">
    <link rel="stylesheet" href="Assets/css/character-animations.css">
    <link rel="stylesheet" href="Assets/css/mobile-responsive.css">
    
    <style>
        /* Legacy animation styles - keep these for now */
        .status-scheming {
            background: #dc143c;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Search results info positioning */
        .search-results-info {
            text-align: center;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Authentic Facebook Header -->
    <header class="fb-header" role="banner">
        <div class="fb-header-content">
            <a href="facebook.html" class="fb-logo" aria-label="South Park Facebook Home">facebook</a>

            <div class="fb-search" role="search">
                <input
                    type="text"
                    id="characterSearch"
                    placeholder="Search South Park characters..."
                    onInput="filterCharacters()"
                    aria-label="Search characters"
                >
            </div>

            <nav class="fb-nav-icons" aria-label="Main navigation">
                <button class="fb-nav-icon" aria-label="Home" title="Home">ğŸ </button>
                <button class="fb-nav-icon" aria-label="Friends" title="Friends">ğŸ‘¥</button>
                <button class="fb-nav-icon" aria-label="Watch" title="Watch">ğŸ“º</button>
                <button class="fb-nav-icon" aria-label="Marketplace" title="Marketplace">ğŸ›’</button>
                <button class="fb-nav-icon" aria-label="Gaming" title="Gaming">ğŸ®</button>
                <button class="fb-nav-icon" aria-label="Notifications" title="Notifications">ğŸ””</button>
                <button class="fb-nav-icon" aria-label="Messages" title="Messages">ğŸ’¬</button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="fb-main" id="main-content" role="main">
        <div class="fb-container">
            <!-- Welcome Banner -->
            <div class="fb-card fb-welcome-banner">
                <h1>ğŸ”ï¸ Welcome to South Park on Facebook! ğŸ”ï¸</h1>
                <p>Connect with your favorite South Park characters, follow their latest schemes, adventures, and daily drama in this quiet little mountain town.</p>
            </div>

        <div id="featured-character"></div>

            <!-- Filter Bar -->
            <div class="filter-bar" role="tablist" aria-label="Character filters">
                <button class="filter-btn active" onclick="filterByCategory('all')" role="tab" aria-selected="true">All Characters</button>
                <button class="filter-btn" onclick="filterByCategory('student')" role="tab">Students</button>
                <button class="filter-btn" onclick="filterByCategory('adult')" role="tab">Adults</button>
                <button class="filter-btn" onclick="filterByCategory('teacher')" role="tab">Teachers</button>
                <button class="filter-btn" onclick="filterByCategory('antagonist')" role="tab">Antagonists</button>
                <button class="fb-btn fb-btn-primary" onclick="randomCharacter()" aria-label="Random character">ğŸ² Surprise Me!</button>
            </div>

            <!-- Search Results Info -->
            <div id="searchResults" class="search-results-info text-secondary text-center" style="display: none;" role="status" aria-live="polite"></div>

            <!-- Section Header -->
            <div class="section-header">
                <h2 class="section-title">All Characters</h2>
            </div>

            <!-- Character Grid -->
            <div id="characters-grid" class="character-grid" role="region" aria-label="Character profiles"></div>

            <!-- No Results Message -->
            <div id="no-results" class="fb-card" style="display: none; text-align: center; padding: 40px;">
                <h3 class="text-lg font-semibold text-primary">No characters found</h3>
                <p class="text-secondary" style="margin: 12px 0;">Try different search terms or check out different categories above.</p>
                <button class="fb-btn fb-btn-secondary" onclick="resetFilters()">Show All Characters</button>
            </div>

            <!-- Interactive Features Section -->
            <div class="section-header">
                <h2 class="section-title">ğŸ’¬ Interactive Features</h2>
            </div>

            <div class="fb-card fb-card-content">
                <div style="display: flex; gap: 12px; align-items: center; flex-wrap: wrap; justify-content: center;">
                    <a href="visual-enhancements-showcase.html" class="fb-btn fb-btn-primary" style="background: linear-gradient(45deg, #667eea, #764ba2);">âœ¨ Visual Enhancements</a>
                    <a href="features-showcase.html" class="fb-btn fb-btn-primary" style="background: #FF6B35;">ğŸš€ Core Features</a>
                    <a href="group-chat-demo.html" class="fb-btn fb-btn-primary" style="background: #42b883;">ğŸ­ Group Chat Demo</a>
                    <a href="Characters/Facebook/Group Chats/broflovski-family.html" class="fb-btn fb-btn-secondary">ğŸ‘ª Family Chat</a>
                    <a href="Characters/Facebook/Group Chats/south-park-parents.html" class="fb-btn fb-btn-secondary">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Parents Chat</a>
                    <a href="index.md" class="fb-btn fb-btn-secondary">ğŸ“‹ All Profiles</a>
                </div>
            </div>

            <!-- Footer -->
            <footer class="fb-card" style="text-align: center; margin-top: 32px;" role="contentinfo">
                <div class="fb-card-content">
                    <div style="display: flex; justify-content: center; gap: 16px; margin-bottom: 16px; flex-wrap: wrap;">
                        <a href="#" class="text-secondary text-sm">About</a>
                        <a href="#" class="text-secondary text-sm">Privacy</a>
                        <a href="#" class="text-secondary text-sm">Terms</a>
                        <a href="#" class="text-secondary text-sm">Help</a>
                        <a href="#" class="text-secondary text-sm">South Park Studios</a>
                        <a href="#" class="text-secondary text-sm">Comedy Central</a>
                    </div>
                    <div class="text-xs text-tertiary" style="border-top: 1px solid #e4e6ea; padding-top: 16px;">
                        Â© 2024 South Park Facebook Community. Created for educational and entertainment purposes.<br>
                        All South Park characters Â© Matt Stone & Trey Parker
                    </div>
                </div>
            </footer>
        </div>
    </main>

    <script>
        const characters = [
            {
                name: "Eric Cartman",
                profileUrl: "Characters/Facebook/HTML Profiles/Eric Cartman.html",
                category: "student antagonist",
                description: "Self-appointed CEO, professional victim, and Kyle's sworn enemy. Currently selling premium air for $5/bottle.",
                headerText: "ğŸ’° CARTMAN ENTERPRISESâ„¢ - CEO OF EVERYTHING ğŸ’°",
                headerGradient: "cartman-gradient",
                avatarInitials: "EC",
                avatarGradient: "cartman-avatar",
                status: "Always Scheming",
                statusClass: "status-scheming",
                stats: "ğŸ‘¥ Friends with: Stan, Kenny â€¢ ğŸ’€ Enemy: Kyle",
                recentActivity: "ğŸ’° \"ATTENTION FRIENDS! I am REVOLUTIONIZING the air industry with my latest venture...\"",
                recentActivityTime: "1 hour ago"
            },
            {
                name: "Kyle Broflovski",
                profileUrl: "Characters/Facebook/HTML Profiles/Kyle Broflovski.html",
                category: "student",
                description: "Moral compass, academic overachiever, and Cartman's intellectual superior. Fighting the good fight daily.",
                headerText: "ğŸ“ VOICE OF REASON IN AN UNREASONABLE WORLD ğŸ“",
                headerGradient: "kyle-gradient",
                avatarInitials: "KB",
                avatarGradient: "kyle-avatar",
                status: "Studying",
                statusClass: "status-online",
                stats: "ğŸ‘¥ Best Friends: Stan â€¢ ğŸ’€ Nemesis: Cartman",
                recentActivity: "âœŠ \"I cannot and will not stay silent! The cafeteria has been serving NON-ORGANIC vegetables!\"",
                recentActivityTime: "45 minutes ago"
            },
            {
                name: "Stan Marsh",
                profileUrl: "Characters/Facebook/HTML Profiles/Stan Marsh.html",
                category: "student",
                description: "All-American kid trying to stay sane while dealing with his friends' chaos and his dad's antics.",
                headerText: "ğŸ¸ KEEPING IT REAL IN SOUTH PARK ğŸ¸",
                headerGradient: "stan-gradient",
                avatarInitials: "SM",
                avatarGradient: "stan-avatar",
                status: "Chilling",
                statusClass: "status-online",
                stats: "ğŸ‘¥ Super Best Friend: Kyle â€¢ ğŸ’• Dating: Wendy (sometimes)",
                recentActivity: "ğŸˆ \"Just trying to keep everyone sane while my dad starts another crazy scheme...\"",
                recentActivityTime: "2 hours ago"
            },
            {
                name: "Kenny McCormick",
                profileUrl: "Characters/Facebook/HTML Profiles/Kenny McCormick.html",
                category: "student",
                description: "The immortal poor kid with a big heart. Dies frequently but always comes back for more adventures.",
                headerText: "ğŸ’€ MYSTERION LIVES... AGAIN ğŸ’€",
                headerGradient: "kenny-gradient",
                avatarInitials: "KM",
                avatarGradient: "kenny-avatar",
                status: "Alive (Today)",
                statusClass: "status-online",
                stats: "ğŸ‘¥ Friends: Stan, Kyle, Cartman â€¢ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family: McCormicks",
                recentActivity: "ğŸ’€ \"Mmmph mph mmmph mph!\" (Translation: \"Had a good day, didn't die!\")",
                recentActivityTime: "3 hours ago"
            },
            {
                name: "Gerald Broflovski",
                profileUrl: "Characters/Facebook/HTML Profiles/Gerald Broflovski.html",
                category: "adult",
                description: "Kyle's dad, successful lawyer by day, internet troll by night. Professional facade hiding digital chaos.",
                headerText: "âš–ï¸ ESQUIRE BY DAY... SOMETHING ELSE BY NIGHT âš–ï¸",
                headerGradient: "gerald-gradient",
                avatarInitials: "GB",
                avatarGradient: "gerald-avatar",
                status: "Researching",
                statusClass: "status-online",
                stats: "ğŸ‘¨â€ğŸ‘¦ Son: Kyle â€¢ ğŸ’‘ Wife: Sheila â€¢ âš–ï¸ Profession: Lawyer",
                recentActivity: "âš–ï¸ \"Working on a fascinating case involving internet defamation. The digital age is truly remarkable...\"",
                recentActivityTime: "3 hours ago"
            },
            {
                name: "Sheila Broflovski",
                profileUrl: "Characters/Facebook/HTML Profiles/Sheila Broflovski.html",
                category: "adult",
                description: "Kyle's mom, helicopter parent extraordinaire. Fighting moral battles on behalf of all South Park children.",
                headerText: "ğŸš WHAT WHAT WHAT?! PROTECTIVE PARENTING ACTIVATED! ğŸš",
                headerGradient: "sheila-gradient",
                avatarInitials: "SB",
                avatarGradient: "sheila-avatar",
                status: "Outraged",
                statusClass: "status-scheming",
                stats: "ğŸ‘¨â€ğŸ‘¦ Son: Kyle â€¢ ğŸ’‘ Husband: Gerald â€¢ âœŠ PTA Leader",
                recentActivity: "âœŠ \"WHAT WHAT WHAT?! The school playground needs better supervision! I'm organizing a committee!\"",
                recentActivityTime: "1 hour ago"
            },
            {
                name: "Chef (Memorial)",
                profileUrl: "Characters/Facebook/HTML Profiles/Chef.html",
                category: "adult",
                description: "Beloved former cafeteria worker and mentor. His wisdom lives on in the hearts of South Park students.",
                headerText: "ğŸµ HELLO THERE, CHILDREN! - A LEGACY REMEMBERED ğŸµ",
                headerGradient: "chef-gradient",
                avatarInitials: "CH",
                avatarGradient: "chef-avatar",
                status: "Remembered",
                statusClass: "status-offline",
                stats: "ğŸµ Legacy: Soul Food & Wisdom â€¢ ğŸ‘¨â€ğŸ³ Forever Chef",
                recentActivity: "ğŸµ \"Student tributes and memories continue to pour in. His influence lives on...\"",
                recentActivityTime: "Memorial Page"
            },
            {
                name: "Randy Marsh",
                profileUrl: "Characters/Facebook/HTML Profiles/Randy Marsh.html",
                category: "adult",
                description: "Stan's dad, former geologist, current Tegridy Farms owner. Prone to dramatic overreactions and questionable decisions.",
                headerText: "ğŸ· TEGRIDY FARMS - GETTING WEIRD WITH IT ğŸŒ¿",
                headerGradient: "randy-gradient",
                avatarInitials: "RM",
                avatarGradient: "randy-avatar",
                status: "At the Farm",
                statusClass: "status-away",
                stats: "ğŸ‘¨â€ğŸ‘¦ Son: Stan â€¢ ğŸ’‘ Wife: Sharon â€¢ ğŸŒ¿ Business Partner: Towelie",
                recentActivity: "ğŸŒ¿ \"Just harvested the best batch yet! This is some real tegridy right here!\"",
                recentActivityTime: "4 hours ago"
            },
            {
                name: "Mr. Garrison",
                profileUrl: "Characters/Facebook/HTML Profiles/mr_garrison_facebook.html",
                category: "teacher adult",
                description: "Fourth grade teacher with a complex history. Currently trying to maintain some semblance of educational standards.",
                headerText: "ğŸ« TEACHING... SORT OF ğŸ«",
                headerGradient: "garrison-gradient",
                avatarInitials: "MG",
                avatarGradient: "garrison-avatar",
                status: "In Class",
                statusClass: "status-online",
                stats: "ğŸ‘¥ Colleague: Mr. Mackey â€¢ ğŸ‘¨â€ğŸ“ Students: Class of 4th Graders",
                recentActivity: null,
                recentActivityTime: null
            },
            {
                name: "Mr. Mackey",
                profileUrl: "Characters/Facebook/HTML Profiles/mr_mackey_facebook.html",
                category: "teacher adult",
                description: "School counselor with an oversized head and undersized effectiveness. Really passionate about drug prevention.",
                headerText: "ğŸ’Š DRUGS ARE BAD, M'KAY? ğŸ’Š",
                headerGradient: "mackey-gradient",
                avatarInitials: "MM",
                avatarGradient: "mackey-avatar",
                status: "Counseling",
                statusClass: "status-online",
                stats: "ğŸ‘¥ Colleague: Mr. Garrison â€¢ ğŸ’Š Specialty: Drug Prevention",
                recentActivity: null,
                recentActivityTime: null
            },
            {
                name: "Butters Stotch",
                profileUrl: "Characters/Facebook/HTML Profiles/butters_stotch_facebook.html",
                category: "student",
                description: "The sweetest, most innocent kid in South Park. Somehow always gets caught up in everyone else's schemes.",
                headerText: "ğŸ˜Š AW JEEZ, FELLAS! ğŸ˜Š",
                headerGradient: "butters-gradient",
                avatarInitials: "BS",
                avatarGradient: "butters-avatar",
                status: "Being Sweet",
                statusClass: "status-online",
                stats: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ Parents: Stephen & Linda â€¢ ğŸ˜‡ Best Quality: Innocence",
                recentActivity: "ğŸŒˆ \"Oh hamburgers! Just helped a lost puppy find its way home! :)"",
                recentActivityTime: "30 minutes ago"
            },
            {
                name: "Jimmy Valmer",
                profileUrl: "Characters/Facebook/HTML Profiles/Jimmy Valmer.html",
                category: "student",
                description: "Aspiring stand-up comedian who turns challenges into comedy gold. Special Olympics athlete with a big heart.",
                headerText: "ğŸ¤ WOW, WHAT A GREAT AUDIENCE! ğŸ­",
                headerGradient: "jimmy-gradient",
                avatarInitials: "JV",
                avatarGradient: "jimmy-avatar",
                status: "Performing",
                statusClass: "status-online",
                stats: "ğŸ‘¥ Best Friend: Timmy â€¢ ğŸ­ Comedy Club Regular",
                recentActivity: "ğŸ¤ \"I t-t-tried out some new material about school lunch. The crowd went WILD!\"",
                recentActivityTime: "2 hours ago"
            },
            {
                name: "Timmy Burch",
                profileUrl: "Characters/Facebook/HTML Profiles/Timmy Burch.html",
                category: "student",
                description: "Jimmy's comedy partner and best friend. Enthusiastic wheelchair racer who communicates perfectly with one word: TIMMY!",
                headerText: "ğŸ­ TIMMY AND JIMMY: DYNAMIC COMEDY DUO! ğŸ­",
                headerGradient: "timmy-gradient",
                avatarInitials: "TB",
                avatarGradient: "timmy-avatar",
                status: "Being Awesome",
                statusClass: "status-online",
                stats: "ğŸ‘¥ Best Friend: Jimmy â€¢ ğŸ Racing Champion",
                recentActivity: "ğŸ­ \"TIMMY! TIMMEH!\" (Translation: \"Comedy show was amazing!\")",
                recentActivityTime: "2 hours ago"
            },
            {
                name: "Tweek Tweak",
                profileUrl: "Characters/Facebook/HTML Profiles/Tweek Tweak.html",
                category: "student",
                description: "Craig's boyfriend and South Park's most caffeinated resident. Always stressed about everything, especially underpants gnomes.",
                headerText: "â˜• AAAHHH! TOO MUCH PRESSURE! â˜•",
                headerGradient: "tweek-gradient",
                avatarInitials: "TT",
                avatarGradient: "tweek-avatar",
                status: "Panicking",
                statusClass: "status-scheming",
                stats: "â˜• Overstimulated",
                recentActivity: null,
                recentActivityTime: null
            },
            {
                name: "Craig Tucker",
                profileUrl: "Characters/Facebook/HTML Profiles/Craig Tucker.html",
                category: "student",
                description: "Tweek's boyfriend and the most apathetic kid in South Park. Known for flipping people off and not caring about anything.",
                headerText: "ğŸ–• WHATEVER, I DON'T CARE ğŸ–•",
                headerGradient: "craig-gradient",
                avatarInitials: "CT",
                avatarGradient: "craig-avatar",
                status: "Not Caring",
                statusClass: "status-away",
                stats: "ğŸ–• Apathetic",
                recentActivity: null,
                recentActivityTime: null
            },
            {
                name: "Clyde Donovan",
                profileUrl: "Characters/Facebook/HTML Profiles/Clyde Donovan.html",
                category: "student",
                description: "South Park's most emotional student who cries about everything. Supportive friend with intense feelings about minor inconveniences.",
                headerText: "ğŸ˜­ *SOBBING* WHY IS EVERYTHING SO EMOTIONAL?! ğŸ˜­",
                headerGradient: "clyde-gradient",
                avatarInitials: "CD",
                avatarGradient: "clyde-avatar",
                status: "Crying",
                statusClass: "status-scheming",
                stats: "ğŸ’§ Emotionally Overwhelmed",
                recentActivity: null,
                recentActivityTime: null
            },
            {
                name: "Token Black",
                profileUrl: "Characters/Facebook/HTML Profiles/Token Black.html",
                category: "student",
                description: "The voice of reason among the boys. Wealthy, talented, and constantly amazed by his friends' poor decisions.",
                headerText: "ğŸµ RICH, TALENTED, AND SLIGHTLY EXASPERATED ğŸµ",
                headerGradient: "token-gradient",
                avatarInitials: "TB",
                avatarGradient: "token-avatar",
                status: "Being Reasonable",
                statusClass: "status-online",
                stats: "ğŸµ Multi-talented â€¢ ğŸ’° Well-off Family",
                recentActivity: null,
                recentActivityTime: null
            },
            {
                name: "Bebe Stevens",
                profileUrl: "Characters/Facebook/HTML Profiles/Bebe Stevens.html",
                category: "student",
                description: "Fourth grade fashion trendsetter and Red's best friend. Setting style standards one outfit at a time.",
                headerText: "ğŸ’„ FASHION FORWARD SINCE FOREVER ğŸ’„",
                headerGradient: "bebe-gradient",
                avatarInitials: "BS",
                avatarGradient: "bebe-avatar",
                status: "Shopping",
                statusClass: "status-online",
                stats: "ğŸ’„ Style Icon â€¢ ğŸ‘¯â€â™€ï¸ Best Friend: Red",
                recentActivity: null,
                recentActivityTime: null
            },
            {
                name: "Red McArthur",
                profileUrl: "Characters/Facebook/HTML Profiles/Red McArthur.html",
                category: "student",
                description: "Popular girl and Bebe's fashion partner. Bringing positivity and style coordination to South Park Elementary.",
                headerText: "âœ¨ STYLE SQUAD LEADER & POSITIVE VIBES ONLY âœ¨",
                headerGradient: "red-gradient",
                avatarInitials: "RM",
                avatarGradient: "red-avatar",
                status: "Styling",
                statusClass: "status-online",
                stats: "âœ¨ Style Coordinator â€¢ ğŸ‘¯â€â™€ï¸ Best Friend: Bebe",
                recentActivity: "âœ¨ \"OMG Bebe! Found the PERFECT accessories for tomorrow's outfit coordination! ğŸ’•\"",
                recentActivityTime: "2 hours ago"
            },
            {
                name: "Sharon Marsh",
                profileUrl: "Characters/Facebook/HTML Profiles/Sharon Marsh.html",
                category: "adult",
                description: "Stan's mom, professional geologist, and Randy's reality-checking wife. Maintaining sanity through wine and science.",
                headerText: "ğŸ§ª VOICE OF REASON IN AN UNREASONABLE HOUSEHOLD ğŸ·",
                headerGradient: "sharon-gradient",
                avatarInitials: "SM",
                avatarGradient: "sharon-avatar",
                status: "Reality Checking",
                statusClass: "status-away",
                stats: "ğŸ§ª Geologist â€¢ ğŸ‘¦ Mom to Stan â€¢ ğŸ· Wine Enthusiast",
                recentActivity: "ğŸ· \"*Deep sigh* Randy just announced another 'revolutionary' idea... Wine o'clock can't come soon enough.\"",
                recentActivityTime: "1 hour ago"
            },
            {
                name: "Liane Cartman",
                profileUrl: "Characters/Facebook/HTML Profiles/Liane Cartman.html",
                category: "adult",
                description: "Eric's devoted mother and professional enabler. Sees only the best in her 'perfect angel' son.",
                headerText: "ğŸ’• WORLD'S MOST DEVOTED MOTHER ğŸ‘‘",
                headerGradient: "liane-gradient",
                avatarInitials: "LC",
                avatarGradient: "liane-avatar",
                status: "Doting on Eric",
                statusClass: "status-online",
                stats: "ğŸ’ Professional Enabler â€¢ ğŸ‘‘ Eric's #1 Fan",
                recentActivity: "ğŸ’• \"Oh my! Eric had the most wonderful business idea today! I'm so proud of my little entrepreneur!\"",
                recentActivityTime: "30 minutes ago"
            }
        ];

        let currentFilter = 'all';

        function createCharacterCard(character) {
            const recentActivityHTML = character.recentActivity
                ? `
                <div class="recent-activity">
                    ${character.recentActivity}
                    <div class="recent-activity-time">${character.recentActivityTime}</div>
                </div>
                `
                : '';

            // Get character image path
            const characterImages = {
                'Eric Cartman': 'Assets/images/eric_cartman.png',
                'Kyle Broflovski': 'Assets/images/kyle_broflovski.png',
                'Stan Marsh': 'Assets/images/stan_marsh.png',
                'Kenny McCormick': 'Assets/images/kenny_mccormick.png',
                'Butters Stotch': 'Assets/images/butters_stotch.png',
                'Jimmy Valmer': 'Assets/images/jimmy_valmer.png',
                'Timmy Burch': 'Assets/images/timmy_burch.png',
                'Tweek Tweak': 'Assets/images/tweek_tweak.png',
                'Craig Tucker': 'Assets/images/craig_tucker.png',
                'Clyde Donovan': 'Assets/images/clyde_donovan.png',
                'Token Black': 'Assets/images/tolkien_black.png',
                'Bebe Stevens': 'Assets/images/bebe_stevens.png',
                'Red McArthur': 'Assets/images/red_mcarthur.png',
                'Wendy Testaburger': 'Assets/images/wendy_testaburger.png',
                'Randy Marsh': 'Assets/images/randy_marsh.png',
                'Sharon Marsh': 'Assets/images/sharon_marsh.png',
                'Gerald Broflovski': 'Assets/images/gerald_broflovski.png',
                'Sheila Broflovski': 'Assets/images/sheila_broflovski.png',
                'Liane Cartman': 'Assets/images/liane_cartman.png',
                'Mr. Garrison': 'Assets/images/mr_garrison.png',
                'Mr. Mackey': 'Assets/images/mr_mackey.png',
                'Chef (Memorial)': 'Assets/images/chef.png'
            };

            const imagePath = characterImages[character.name] || '';
            const avatarStyle = imagePath ? `background-image: url('${imagePath}');` : `background-color: #f0f2f5; display: flex; align-items: center; justify-content: center; color: #65676b; font-weight: 600;`;

            return `
                <a href="${character.profileUrl}" class="character-card" data-name="${character.name}" data-category="${character.category}" data-description="${character.description}" role="article" aria-label="${character.name} profile">
                    <div class="character-card-header">
                        South Park Elementary
                    </div>
                    <div class="character-avatar" style="${avatarStyle}" aria-label="${character.name} profile picture">
                        ${!imagePath ? character.avatarInitials : ''}
                    </div>
                    <div class="character-info">
                        <h3 class="character-name">${character.name}</h3>
                        <p class="character-description">${character.description}</p>
                        <div class="character-stats">
                            <span class="text-sm">
                                <span class="status-indicator ${character.statusClass}"></span>
                                ${character.status}
                            </span>
                            <span class="text-xs text-tertiary">${character.stats}</span>
                        </div>
                        ${recentActivityHTML}
                    </div>
                </a>
            `;
        }

        function loadCharacters() {
            const charactersGrid = document.getElementById('characters-grid');
            charactersGrid.innerHTML = characters.map(createCharacterCard).join('');
        }

        function loadFeaturedCharacter() {
            const featuredCharacterContainer = document.getElementById('featured-character');
            const featuredCharacter = characters[Math.floor(Math.random() * characters.length)];
            featuredCharacterContainer.innerHTML = `
                <div class="section-header">
                    <h2 class="section-title">ğŸŒŸ Featured Character</h2>
                </div>
                <div style="display: grid; grid-template-columns: 1fr; max-width: 400px; margin: 0 auto;">
                    ${createCharacterCard(featuredCharacter)}
                </div>
            `;
        }
        
        function filterCharacters() {
            const searchTerm = document.getElementById('characterSearch').value.toLowerCase();
            const cards = document.querySelectorAll('.character-card');
            const searchResults = document.getElementById('searchResults');
            const noResults = document.getElementById('no-results');
            let visibleCount = 0;
            
            characters.forEach((character, index) => {
                const card = cards[index];
                const name = character.name.toLowerCase();
                const description = character.description.toLowerCase();
                const category = character.category;
                
                const matchesSearch = name.includes(searchTerm) || description.includes(searchTerm);
                const matchesCategory = currentFilter === 'all' || category.includes(currentFilter);
                
                if (matchesSearch && matchesCategory) {
                    card.style.display = 'block';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            if (searchTerm) {
                searchResults.style.display = 'block';
                searchResults.textContent = `Found ${visibleCount} character${visibleCount !== 1 ? 's' : ''} matching "${searchTerm}"`;
            } else {
                searchResults.style.display = 'none';
            }
            
            noResults.style.display = visibleCount === 0 ? 'block' : 'none';
        }
        
        function filterByCategory(category) {
            currentFilter = category;
            
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            document.getElementById('characterSearch').value = '';
            loadCharacters(); // Reload characters to reset search
            filterCharacters();
        }
        
        function resetFilters() {
            currentFilter = 'all';
            document.getElementById('characterSearch').value = '';
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.filter-btn').classList.add('active');
            loadCharacters();
            filterCharacters();
        }
        
        function randomCharacter() {
            const visibleCards = Array.from(document.querySelectorAll('.character-card')).filter(card => 
                card.style.display !== 'none'
            );
            if (visibleCards.length > 0) {
                const randomCard = visibleCards[Math.floor(Math.random() * visibleCards.length)];
                window.location.href = randomCard.href;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            loadCharacters();
            loadFeaturedCharacter();

            const cards = document.querySelectorAll('.character-card');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
                card.classList.add('slide-in', 'card-hover-effect');
            });

            const buttons = document.querySelectorAll('.filter-btn, .random-btn');
            buttons.forEach(button => {
                button.classList.add('card-hover-effect');
            });
        });
    </script>
    
    <!-- Enhanced Navigation System -->
    <script src="Assets/js/breadcrumb-navigation.js"></script>
    
    <!-- Enhanced Visual Effects Systems -->
    <script src="Assets/js/particle-effects-system.js"></script>
    <script src="Assets/js/enhanced-visual-controller.js"></script>
    
    <!-- Initialize Enhanced Visual Effects -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize particle effects system
            window.particleSystem = new ParticleEffectsSystem();
            
            // Enhanced character card interactions
            const cards = document.querySelectorAll('.character-card');
            cards.forEach((card, index) => {
                // Add enhanced visual classes
                card.classList.add('enhanced-button', 'magnetic-hover');
                
                // Character-specific enhancements
                const characterName = card.querySelector('.character-name')?.textContent || '';
                const characterKey = getCharacterKey(characterName);
                
                // Apply character-specific animation classes
                card.classList.add(`${characterKey}-animations`);
                
                // Enhanced click handler
                card.addEventListener('click', function(e) {
                    if (window.particleSystem && window.enhancedVisualController) {
                        const rect = card.getBoundingClientRect();
                        const centerX = rect.left + rect.width / 2;
                        const centerY = rect.top + rect.height / 2;
                        
                        // Create particle explosion
                        window.particleSystem.createExplosion(centerX, centerY, characterKey, 1.2);
                        
                        // Trigger character-specific effect
                        window.enhancedVisualController.triggerCharacterEffect(characterKey);
                    }
                });
            });
            
            // Enhanced filter buttons
            const filterButtons = document.querySelectorAll('.filter-btn');
            filterButtons.forEach(button => {
                button.classList.add('enhanced-button', 'ripple-effect');
            });
            
            // Add demo effects button
            addDemoEffectsButton();
        });
        
        function getCharacterKey(characterName) {
            const keyMap = {
                'Eric Cartman': 'cartman',
                'Kyle Broflovski': 'kyle',
                'Stan Marsh': 'stan',
                'Kenny McCormick': 'kenny',
                'Tweek Tweak': 'tweek',
                'Craig Tucker': 'craig',
                'Randy Marsh': 'randy',
                'Leopold "Butters" Stotch': 'butters',
                'Butters Stotch': 'butters',
                'Jimmy Valmer': 'jimmy',
                'Timmy Burch': 'timmy',
                'Gerald Broflovski': 'gerald',
                'Sheila Broflovski': 'sheila',
                'Sharon Marsh': 'sharon',
                'Liane Cartman': 'liane',
                'Red McArthur': 'red',
                'Bebe Stevens': 'bebe',
                'Clyde Donovan': 'clyde',
                'Token Black': 'token'
            };
            return keyMap[characterName] || 'default';
        }
        
        function addDemoEffectsButton() {
            const demoButton = document.createElement('button');
            demoButton.innerHTML = 'âœ¨ Demo Visual Effects';
            demoButton.className = 'demo-button enhanced-button';
            demoButton.style.cssText = '
                position: fixed;
                bottom: 20px;
                left: 20px;
                z-index: 10000;
                padding: 12px 24px;
                background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
                color: white;
                border: none;
                border-radius: 25px;
                font-weight: bold;
                cursor: pointer;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
                transition: all 0.3s ease;
            ';
            
            demoButton.addEventListener('click', function() {
                runEffectsDemo();
            });
            
            document.body.appendChild(demoButton);
        }
        
        function runEffectsDemo() {
            if (!window.particleSystem || !window.enhancedVisualController) return;
            
            const effects = [
                () => window.particleSystem.triggerSpecialEffect('cartman', 'business'),
                () => window.particleSystem.triggerSpecialEffect('kenny', 'death'),
                () => window.particleSystem.triggerSpecialEffect('tweek', 'panic'),
                () => {
                    // Random explosions across the screen
                    for (let i = 0; i < 5; i++) {
                        setTimeout(() => {
                            window.particleSystem.createExplosion(
                                Math.random() * window.innerWidth,
                                Math.random() * window.innerHeight * 0.7,
                                ['cartman', 'kyle', 'stan', 'kenny', 'tweek'][Math.floor(Math.random() * 5)],
                                Math.random() * 1.5 + 0.5
                            );
                        }, i * 300);
                    }
                }
            ];
            
            // Run effects in sequence
            effects.forEach((effect, index) => {
                setTimeout(effect, index * 1500);
            });
        }
        
        // Keyboard shortcuts for effects
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.shiftKey) {
                switch(e.key) {
                    case 'E':
                        e.preventDefault();
                        runEffectsDemo();
                        break;
                    case 'T':
                        e.preventDefault();
                        if (window.enhancedVisualController) {
                            const themes = ['default', 'dark', 'south-park', 'high-contrast'];
                            const currentIndex = themes.indexOf(window.enhancedVisualController.currentTheme);
                            const nextTheme = themes[(currentIndex + 1) % themes.length];
                            window.enhancedVisualController.switchTheme(nextTheme);
                        }
                        break;
                    case 'P':
                        e.preventDefault();
                        if (window.particleSystem) {
                            window.particleSystem.setActive(!window.particleSystem.isActive);
                        }
                        break;
                }
            }
        });
    </script>
</body>
</html>